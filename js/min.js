!function(){"use strict";const e={};if(location.search){var t=document.createElement("a");t.href=location.href,t.search="",history.replaceState(null,null,t.href)}function n(e){open("https://twitter.com/intent/tweet?url="+encodeURIComponent(e),"_blank")}function o(e){if("A"!=e.target.tagName)return;if(e.target.origin!=location.origin)return;const t=e=>e.split("#")[0];if(t(window.location.href)!==t(e.target.href)){var n=document.createElement("link");n.rel="prefetch",n.href=e.target.href,document.head.appendChild(n)}}w("tweet",(function(e){n(e.getAttribute("href"))})),w("share",(function(e){var t,o,r=e.getAttribute("href");event.preventDefault(),navigator.share?navigator.share({url:r}):navigator.clipboard?(navigator.clipboard.writeText(r),t="Article URL copied to clipboard.",(o=document.getElementById("message")).textContent=t,o.setAttribute("open",""),setTimeout((function(){o.removeAttribute("open")}),3e3)):n(r)})),document.documentElement.addEventListener("mouseover",o,{capture:!0,passive:!0}),document.documentElement.addEventListener("touchstart",o,{capture:!0,passive:!0});const r=document.documentElement.getAttribute("ga-id");window.ga=window.ga||function(){r&&(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create",r,"auto"),ga("set","transport","beacon");var a=setTimeout(onload=function(){clearTimeout(a),ga("send","pageview")},1e3),i=+new Date;function c(e){var t=+new Date;t-i<1e3||(ga("send",{hitType:"event",eventCategory:"page",eventAction:e.type,eventLabel:Math.round((t-i)/1e3)}),i=t)}addEventListener("pagehide",c),addEventListener("visibilitychange",c);const s=document.currentScript.getAttribute("data-cwv-src");var l,d;if(/web-vitals.js/.test(s)&&(l=window.location.origin+"/js/web-vitals.js",new Promise(e=>{const t=document.createElement("script");t.src=l,t.type="text/javascript",document.head.appendChild(t),t.addEventListener("load",()=>{e(t)})})).then(()=>{webVitals.getCLS(sendToGoogleAnalytics),webVitals.getFID(sendToGoogleAnalytics),webVitals.getLCP(sendToGoogleAnalytics)}).catch(e=>{console.error(e)}),addEventListener("click",(function(e){var t=e.target.closest("button");t&&ga("send",{hitType:"event",eventCategory:"button",eventAction:t.getAttribute("aria-label")||t.textContent})}),!0),addEventListener("selectionchange",(function(){clearTimeout(d);var e=String(document.getSelection()).trim();e.split(/[\s\n\r]+/).length<3||(d=setTimeout((function(){ga("send",{hitType:"event",eventCategory:"selection",eventAction:e})}),2e3))}),!0),window.ResizeObserver&&document.querySelector("header nav #nav")&&/\/posts\//gi.test(document.baseURI)){var u=document.getElementById("reading-progress"),g=0,m=!1;function h(){m||(requestAnimationFrame(f),m=!0),g=Date.now()}addEventListener("scroll",h);var v=1e3,p=1e4;function f(){m=!1;var e=Math.min(document.scrollingElement.scrollTop/(p-v)*100,100);u.style.transform=`translate(-${100-e}vw, 0)`,Date.now()-g<3e3&&(requestAnimationFrame(f),m=!0)}new ResizeObserver(()=>{const e=document.querySelector(".article-author-info,footer");p=document.scrollingElement.scrollTop+(e?e.getBoundingClientRect().top:0),v=window.innerHeight,h()}).observe(document.body)}function w(t,n){e[t]=n}function b(e){const t=document.querySelector("iframe.giscus-frame");t&&t.contentWindow.postMessage({giscus:e},"https://giscus.app")}addEventListener("click",t=>{const n=t.target.closest("[on-click]");if(!n)return;t.preventDefault();const o=n.getAttribute("on-click"),r=e[o];if(!r)throw new Error("Unknown handler"+o);r(n)});let y=localStorage.getItem("isDarkTheme");y=null===y?window.matchMedia("(prefers-color-scheme: dark)").matches:"true"===y,addEventListener("click",e=>{var t=e.target.closest("#switch-color-theme, #switch-to-light, #switch-to-dark");t&&("switch-color-theme"==t.id&&y||"switch-to-light"==t.id?(document.body.setAttribute("class","light-mode"),b({setConfig:{theme:"light"}}),localStorage.setItem("isDarkTheme",!1),y=!1):(document.body.setAttribute("class","dark-mode"),b({setConfig:{theme:"dark_dimmed"}}),localStorage.setItem("isDarkTheme",!0),y=!0))});let E=!1;function A(e){e.style.backgroundImage="none"}window.addEventListener("message",e=>{if("https://giscus.app"!==e.origin)return;if("object"!=typeof e.data||!e.data.giscus)return;E||(E=!0,b({setConfig:{theme:y?"dark_dimmed":"light"}}));e.data.giscus}),document.body.addEventListener("load",e=>{"IMG"==e.target.tagName&&A(e.target)},"true");for(let e of document.querySelectorAll("img"))e.complete&&A(e)}();
//# sourceMappingURL=min.js.map
